<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<div [hidden]="edit">
<button style="width: 10%;font-size: 10px; float: right;" (click)="editProfile()">Edit Profile</button>
<div class="card">
    <img [src]="retrievedImage" style="width:100%">
  <h1>{{admin.name}}</h1>
  <p class="title">{{admin.email}}</p>
  <p >{{admin.presentAddress}}</p>

</div>
</div>

<div [hidden]="!edit">

    <div style="background-color: rgb(0, 0, 2);">
        <h2 style="text-align: center;color: white;">Edit Profile</h2>
    </div>
    <mat-card style="min-height: inherit;">
        <mat-card-content>
            <form class="example-form" #prjNgModel='ngForm'>
                <div class="row">
                    <div class="col-md-12">
                        <mat-form-field>
                            <mat-label>{{' Name​'}}</mat-label>
                            <input matInput placeholder="Write  Name ​" [required]="true" #name="ngModel" name="name" [(ngModel)]="admin.name">
                        </mat-form-field>
                    </div>
    
                    <div class="col-md-12">
                        <mat-form-field>
                            <mat-label>{{' Email'}}</mat-label>
                            <input matInput placeholder="Write Email ​" [required]="true" #email="ngModel" name="email" [(ngModel)]="admin.email">
                        </mat-form-field>
                    </div>
    
                    <div class="col-md-6">
                        <mat-form-field>
                            <mat-label>{{' Phone Number'}}</mat-label>
                            <input matInput placeholder="Enter Phone ​" [required]="true" #phoneNumber="ngModel" name="phoneNumber" [(ngModel)]="admin.phoneNumber">
                        </mat-form-field>
                    </div>
    
                    <div class="col-md-6">
                        <mat-form-field>
                          <mat-label>{{' New Password'}}</mat-label>
                          <input type="password" matInput placeholder="Enter New Password ​" #password="ngModel"
                            name="password" [(ngModel)]="admin.password">
                        </mat-form-field>
                      </div>
    
                      <div class="col-md-6">
                        <mat-form-field>
                          <mat-label>{{' Present Address:'}}</mat-label>
                          <input matInput placeholder="Enter Present Address: ​" [required]="true" #presentAddress="ngModel" name="presentAddress"
                            [(ngModel)]="admin.presentAddress">
                        </mat-form-field>
                      </div>
              
                      <div class="col-md-6">
                        <mat-form-field>
                          <mat-label>{{' Permanent Address:'}}</mat-label>
                          <input matInput placeholder="Enter Permanent Address: ​" [required]="true" #permanentAddress="ngModel" name="permanentAddress"
                            [(ngModel)]="admin.permanentAddress">
                        </mat-form-field>
                      </div>

                      <div class="col-md-6" [hidden]="!shop">
                        <mat-form-field>
                          <mat-label>{{' Shop Address:'}}</mat-label>
                          <input matInput placeholder="Enter Shop Address: ​"  #shopAddress="ngModel" name="shopAddress"
                            [(ngModel)]="admin.shopAddress">
                        </mat-form-field>
                      </div>

                    <div class="col-md-6">
                    <mat-radio-group  [required]="true" aria-label="State" #gender='ngModel'
                    name="gender" [(ngModel)]="admin.gender">
                    <mat-label>{{' Select Gender:'}}</mat-label>
                        <mat-radio-button value="male">Male</mat-radio-button>
                        <mat-radio-button value="female">Female</mat-radio-button>
                      </mat-radio-group>
                   </div>
    
                   <div class="col-md-6">
                    <mat-form-field appearance="fill">
                        <mat-label>{{' Choose Birth Date '}}</mat-label>
                        <input matInput [matDatepicker]="picker"[required]="true" placeholder="Choose Birth date" #birth='ngModel' name="birth" [(ngModel)]="admin.birthDate">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
                    <div class="col-md-6">
                        <fieldset class="form-group">
                            <label>Upload Image</label> {{imageError}}
                            <div class="custom-file fileInputProfileWrap">
                                <input type="file" (change)="fileChangeEvent($event)" class="fileInputProfile" enctype="multipart/form-data">
                            </div>
                        </fieldset>
                    </div>
    
                    <div class="col-md-6">
                        <ng-container *ngIf="isImageSaved; else elseTemplate">
                            <img [src]="cardImageBase64" style="float:right; margin:20px 5px 5px 5px">
                        </ng-container>
                        <ng-template #elseTemplate>
                            <div *ngIf=retrievedImage>
                                <img [src]="retrievedImage" style="float:right; margin:20px 5px 5px 5px">
                            </div>
                        </ng-template>
                        <a class="btn btn-danger" style="float:right; margin:20px 5px 5px 5px" (click)="removeImage()" *ngIf="isImageSaved">Remove</a>
                    </div>
    
                </div>
            </form>
        </mat-card-content>
    </mat-card>
    <button mat-raised-button style="width: 10%;font-size: 10px; float: right;margin:10px 5px 5px 5px ;background-color: green; " [disabled]="!prjNgModel.valid" (click)="save()">Update Profile</button>
    <button mat-raised-button style="width: 10%; height:10%;font-size: 10px; float: right;margin:10px 5px 5px 5px; background-color: indianred;" (click)="back()">Back to Profile</button>
</div>

<div class="overlay"
[hidden]="!loading">
<img src="assets/img/brand/loader_colored.gif" class="spinner" style="height: 200px; width: 200px">
</div>

